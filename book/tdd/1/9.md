# 9ì¥ ìš°ë¦¬ê°€ ì‚¬ëŠ” ì‹œê°„

#### í˜„ì¬ ê¹Œì§€ì˜ ì§„í–‰ìƒíƒœ&#x20;

* [ ] $5 + 10CHF = 10$(í™˜ìœ¨ì´ 2:1  ì¼ ê²½ìš°)
* [x] ~~$5\*2 = $10~~
* [x] ~~amountë¥¼ privateë¡œ ë§Œë“¤ê¸°()~~
* [x] ~~Dollar ë¶€ì‘ìš©~~
* [ ] Money ë°˜ì˜¬ë¦¼
* [x] ~~equals()~~
* [ ] hashCode()
* [ ] Equal null
* [ ] Equal Object&#x20;
* [x] ~~5CHF \* 2 = 10CHF~~
* [ ] **Dollar/Franc ì¤‘ë³µ**
* [x] ~~ê³µìš© equals~~
* [ ] **ê³µìš© times**
* [x] ~~Franc ê³¼ Dollar ë¹„êµí•˜ê¸°~~
* [ ] í†µí™”?
* [ ] testFranMultiplication í…ŒìŠ¤íŠ¸ëŠ” ì œê±° í•´ì•¼í• ê¹Œ??

ì§€ê¸ˆê¹Œì§€ ë§ì´ í•œê²ƒ ê°™ì§€ë§Œ, í•˜ë©´ì„œ í…ŒìŠ¤íŠ¸ í•´ì•¼í•˜ëŠ” ê²ƒë“¤ë„ ëŠ˜ì–´ë‚˜ê°€ê³  ìˆë‹¤.ğŸ‘»

í• ì¼ ëª©ë¡ì—ì„œ ì–´ë–¤ ê±¸ í•´ê²°í•˜ë©´ ê·€ì°®ê³  ë¶ˆí•„ìš”í•œ í•˜ìœ„ í´ë˜ìŠ¤ë¥¼ ì œê±° í•˜ëŠ”ë° ë„ì›€ì´ ë ê¹Œ? \
ì´ë²ˆ ì¥ì—ì„œëŠ” í†µí™” ê°œë…ì„ ë„ì…ì„  í•´ë³´ë„ë¡ í•˜ê² ë‹¤.

ì–´ë–»ê²Œ í•˜ë©´ í†µí™” ê°œë…ì„ ë„ì…í•˜ê¸° ìœ„í•´ í…ŒìŠ¤íŠ¸ë¥¼ êµ¬í˜„ í•  ìˆ˜ ìˆì„ê¹Œ?? í†µí™”ë¥¼ í‘œí˜„ í•˜ëŠ”ë°, ë§ì€ ìš”ì†Œë“¤ì„ ê³ ë ¤ í•´ì•¼ í•œë‹¤. ì´ê²ƒë“¤ì„ í‘œí˜„í•˜ê¸° ìœ„í•´ ë³µì¡í•œ ê°ì²´ë¥¼ ì›í•  ìˆ˜ ë„ ìˆë‹¤. ë˜í•œ í•„ìš”í•œ ê²ƒë“¤ë§Œ ë§Œë“¤ì–´ì§€ëŠ” ê²½ëŸ‰ íŒ©í† ë¦¬ë¥¼ ì‚¬ìš©í•  ìˆ˜ë„ ìˆì§€ë§Œ, ê·¸ëŸ° ê²ƒë“¤ ëŒ€ì‹  ë¬¸ìì—´ì„ ë„ì…í•˜ëŠ” ê²ƒë¶€í„° ì‹œì‘ í•˜ê¸°ë¡œ í•˜ì.

{% code fullWidth="false" %}
```java
// ì´ë²ˆì— ì‹œë„í•  í…ŒìŠ¤íŠ¸
@Test
public void testCurrency(){
    Assertions.assertTrue("USD".equals(Money.dollar(1).currency()));
    Assertions.assertTrue("CHF".equals(Franc.dollar(1).currency()));
}

```
{% endcode %}

ë‹¤ìŒê³¼ ê°™ì€ í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼í•˜ê¸° ìœ„í•´ì„œ Money í´ë˜ìŠ¤ì—  currency() ë¥¼ ì„ ì–¸í•  ë¿ë§Œ ì•„ë‹ˆë¼, ìì‹ í´ë˜ìŠ¤ì—ì„œë„ êµ¬ì²´í™” í•´ì•¼í•œë‹¤.&#x20;

```java
// Money.java
public abstract class Money {
    abstract String currency();
}

// ë¶€ëª¨í´ë˜ìŠ¤ì˜ ì¶”ìƒë©”ì†Œë“œë¥¼ êµ¬ì²´í™” 

// Dollar.java
public class Dollar extends Money{
    @Override
    String currency() {
        return "USD";
    }
}


// Franc.java
public class Franc extends Money{
    @Override
    String currency() {
        return "CHF";
    }
}
```

ì§€ê¸ˆê³¼ ë‹¤ë¥´ê²Œ ê°ê° ë‘í´ë˜ìŠ¤ë¥¼ ëª¨ë‘ í¬í•¨í•  ìˆ˜ ìˆëŠ” ë™ì¼í•œ êµ¬í˜„ì´ í•„ìš”í•œ ìƒí™©ì´ë‹¤.

í†µí™” í•„ë“œë¥¼ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ì— ì €ì¥í•˜ê³  ë©”ì„œë“œì—ì„œëŠ” ê·¸ê±¸ ë°˜í™˜í•˜ê²Œ ë§Œë“¤ ìˆ˜ ìˆì„ ê²ƒ ê°™ë‹¤.&#x20;

```java
// Dollar.java
public class Dollar extends Money{

    private String currency;
    
    Dollar(int amount){
        this.amount = amount;
        this.currency = "USD";
    }
    

    @Override
    String currency() {
        return currency;
    }
}


// Franc.java
public class Franc extends Money{

    private String currency;
    
    Franc(int amount){
        this.amount = amount;
        this.currency = "CHF";
    }

    @Override
    String currency() {
        return currency;
    }
}
```

ì´ì œ ë‘ curreny() ê°€ ë™ì¼í•˜ë¯€ë¡œ ë³€ìˆ˜ ì„ ì–¸ê³¼ currency() êµ¬í˜„ì„ ë‘˜ë‹¤ Money ë¡œ ë³´ë‚´ë„ ëœë‹¤!

```java
// Money.java
public abstract class Money {
    protected int amount;
    protected String currency;

    String currency() {
        return currency;
    }
    
    abstract Money times(int mul);


    public boolean equals(Object o){
        Money money = (Money) o;
        return amount == money.amount && this.getClass() == o.getClass();
    }

    public static Dollar dollar(int amount){
        return new Dollar(amount);
    }

    public static Franc franc(int amount){
        return new Franc(amount);
    }
}


// ë¶€ëª¨í´ë˜ìŠ¤ì˜ ì¶”ìƒë©”ì†Œë“œë¥¼ êµ¬ì²´í™” 

// Dollar.java
public class Dollar extends Money{
    Dollar(int amount){
        this.amount = amount;
        this.currency = "USD";
    }
    Money times (int mul){
        return new Dollar(amount * mul);
    }
}


// Franc.class
public class Franc extends Money{
    Franc(int amount){
        this.amount = amount;
        this.currency = "CHF";
    }

    Money times (int mul){
        return new Franc(amount * mul);
    }

}
```

ì§€ê¸ˆ ê¹Œì§€ ë¦¬íŒ©í† ë§ ë° ê°œì„ ëœ ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤. ê°ê°ì˜ í†µí™” ë¥¼ í•˜ë“œì½”ë”©ìœ¼ë¡œ ë„£ì—ˆëŠ”ë°, ì´ëŸ´ í•„ìš”ì—†ì´ íŒ©í† ë¦¬ ë©”ì†Œë“œì— ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ë¥¼ ë„˜ê¹€ìœ¼ë¡œ ê°œì„  ì‹œí‚¬ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤.

ìš°ì„  ìƒì„±ìì— ì¸ìë¥¼ ì¶”ê°€í•˜ê² ë‹¤.

```java
// Franc.java
public class Franc extends Money{
    Franc(int amount, String currency){
        this.amount = amount;
        this.currency = "CHF";
    }
}

// Dollar.java
public class Dollar extends Money{
    Dollar(int amount, String currency){
        this.amount = amount;
        this.currency = "USD";
    }
}
```

ì´ì™€ ê°™ì´ ìˆ˜ì •ì„ ì§„í–‰í•  ê²½ìš° ìƒì„±ìë¥¼ í˜¸ì¶œí•˜ëŠ” ê³³ì—ì„œ ì˜¤ë¥˜ê°€ ë‚  ê²ƒì´ê¸° ë•Œë¬¸ì— ì½”ë“œ ìˆ˜ì •ì´ í•„ìš”í•˜ë‹¤.&#x20;



<pre class="language-java"><code class="lang-java"><strong>//Moeny.java
</strong><strong>public abstract class Money {
</strong><strong>    public static Dollar dollar(int amount){
</strong>        return new Dollar(amount,null);
    }

    public static Franc franc(int amount){
        return new Franc(amount,null);
    }
}


// Franc.java
public class Franc extends Money{
    Franc(int amount, String currency){
        this.amount = amount;
        this.currency = "CHF";
    }
    Money times (int mul){
        return new Franc(amount * mul, null);
    }
}

// Dollar.java
public class Dollar extends Money{
    Dollar(int amount, String currency){
        this.amount = amount;
        this.currency = "USD";
    }
    Money times (int mul){
        return new Dollar(amount * mul, null);
    }
}

</code></pre>

> ë‹¤ìŒê³¼ ê°™ì´ ìì‹ í´ë˜ìŠ¤ë‚´  times() ë©”ì†Œë“œëŠ” ìƒì„±ìë¥¼ í˜¸ì¶œí•˜ê³ , íŒ©í† ë¦¬ ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ì§€ ì•ŠëŠ” ìƒí™©ì´ë‹¤. ì´ë¥¼ ìœ„í•´ì„œ ì§€ê¸ˆ ë‹¹ì¥ ìˆ˜ì •ì„ í•´ì•¼í•˜ëŠ” ê²ƒì¼ê¹Œ? ì•„ë‹˜ ì§€ê¸ˆ í•˜ëŠ” ì‘ì—…ì„ ëë‚ ë•Œê¹Œì§€ ë³´ë¥˜í•´ì•¼ í•˜ëŠ”ê±¸ê¹Œ??? ì±…ì—ì„œëŠ” ìš°ì„  ê¸°ë‹¤ë¦¬ë¼ê³  í•œë‹¤. ì§€ê¸ˆ ëˆˆì•ì— ë‹¥ì¹œ ì¼ë“¤ì„ í•˜ë‚˜í•˜ë‚˜ ê±·ì–´ì•¼í•˜ê¸° ë•Œë¬¸ì´ë‹¤. í•˜ì§€ë§Œ ì €ìëŠ” ë³´í†µ ì§§ì€ ì¤‘ë‹¨ì´ í•„ìš”í•œ ê²½ìš°ì—ì„œëŠ” í”ì¾Œíˆ ë°›ì•„ë“¤ì´ëŠ” í¸ì´ë¼ê³  í•œë‹¤. ê·¸ë ‡ê²Œ í¬ê²Œ ê³µìˆ˜ê°€ ë“¤ì–´ê°€ì§€ ì•ŠëŠ” ì¼ì´ë©´ ì‘ì—…ì„ í•´ë„ ë¬´ë°©í•˜ë‹¤. ë‹¨ í•˜ë˜ ì¼ì„ ì¤‘ë‹¨í•˜ê³  ë‹¤ë¥¸ì¼ì„ í•˜ê³  ìˆëŠ” ìƒíƒœì—ì„œ ë˜ ë‹¤ë¥¸ ì¼ì„ ìœ„í•´ ì‘ì—…ì„ ì¤‘ë‹¨í•˜ì§€ëŠ” ì•Šì•„ì•¼í•œë‹¤.(Jim Coplien ì´ ê°€ë¥´ì³ì¤€ ê·œì¹™ì´ë¼ê³  í•œë‹¤.) &#x20;

ì´ì œ ì ê¹ì˜ ì¤‘ë‹¨ì„ í•˜ê³ , times() ë¥¼ ìˆ˜ì •í•˜ê² ë‹¤.&#x20;

```java
// Franc.java
public class Franc extends Money{
    Franc(int amount, String currency){
        this.amount = amount;
        this.currency = "CHF";
    }
    Money times (int mul){
        return Money.franc(amount * mul);
    }
}

// Dollar.java
public class Dollar extends Money{
    Dollar(int amount, String currency){
        this.amount = amount;
        this.currency = "USD";
    }
    Money times (int mul){
        return Money.dollar(this.amount * mul);
    }
}
```

ì´ì œ íŒ©í† ë¦¬ ë©”ì†Œë“œì— `CHF` ì™€ `USD` ë¥¼ ì „ë‹¬í•  ìˆ˜ ìˆë‹¤.

```java
// Money.java
public abstract class Money {
    /* code */
    public static Dollar dollar(int amount){
        return new Dollar(amount,"USD");
    }

    public static Franc franc(int amount){
        return new Franc(amount,"CHF");
    }
}


// Franc.java
public class Franc extends Money{
    // ìƒì„±ìë¥¼ í†µí•´ ì¸ìë¥¼ ë°›ì„ìˆ˜ ìˆê²Œ ëë‹¤.
    Franc(int amount, String currency){
        this.amount = amount;
        this.currency = currency;
    }
    Money times (int mul){
        return Money.franc(amount * mul);
    }
}

// Dollar.java
public class Dollar extends Money{
    // ìƒì„±ìë¥¼ í†µí•´ ì¸ìë¥¼ ë°›ì„ìˆ˜ ìˆê²Œ ëë‹¤.
    Dollar(int amount, String currency){
        this.amount = amount;
        this.currency = currency;
    }
    Money times (int mul){
        return Money.dollar(this.amount * mul);
    }
}
```

ì´ì œ ë‘ í´ë˜ìŠ¤ì˜ ìƒì„±ìê°€ ì™„ì „íˆ ë™ì¼í•´ì¡Œìœ¼ë‹ˆ, êµ¬í˜„ì€ ìƒìœ„ í´ë˜ìŠ¤ë¡œ ì˜¬ë¦´ìˆ˜ ìˆê²Œëë‹¤.

<pre class="language-java"><code class="lang-java"><strong>//Money.java
</strong><strong>public abstract class Money {
</strong>    /**/
    Money(int amount, String currency){
        this.amount = amount;
        this.currency = currency;
    }
}



// Franc.java
public class Franc extends Money{
    Franc(int amount, String currency){
        super(amount, currency);
    }
    Money times (int mul){
        return Money.franc(amount * mul);
    }
}

// Dollar.class
public class Dollar extends Money{
    Dollar(int amount, String currency){
        super(amount, currency);
    }
    Money times (int mul){
        return Money.dollar(this.amount * mul);
    }
}
</code></pre>



ì´ì™€ ê°™ì´ ìˆ˜ì •ì„ í•¨ìœ¼ë¡œì„œ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í–ˆì„ë•Œ ì •ìƒì ìœ¼ë¡œ í†µê³¼í•˜ëŠ”ê²ƒì´ í™•ì¸ì´ ëœë‹¤.

```java
@Test
public void testCurrency(){
    Assertions.assertTrue("USD".equals(Money.dollar(1).currency()));
    Assertions.assertTrue("CHF".equals(Franc.franc(1).currency()));
}
```

<div align="left"><figure><img src="../../../.gitbook/assets/image (1) (1) (1) (1) (1) (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure></div>

#### í˜„ì¬ ì§„í–‰ëœ ì‘ì—… ëª©ë¡

* [ ] $5 + 10CHF = 10$(í™˜ìœ¨ì´ 2:1  ì¼ ê²½ìš°)
* [x] ~~$5\*2 = $10~~
* [x] ~~amountë¥¼ privateë¡œ ë§Œë“¤ê¸°()~~
* [x] ~~Dollar ë¶€ì‘ìš©~~
* [ ] Money ë°˜ì˜¬ë¦¼
* [x] ~~equals()~~
* [ ] hashCode()
* [ ] Equal null
* [ ] Equal Object&#x20;
* [x] ~~5CHF \* 2 = 10CHF~~
* [ ] **Dollar/Franc ì¤‘ë³µ**
* [x] ~~ê³µìš© equals~~
* [ ] **ê³µìš© times**
* [x] ~~Franc ê³¼ Dollar ë¹„êµí•˜ê¸°~~
* [x] ~~í†µí™”?~~
* [ ] testFranMultiplication í…ŒìŠ¤íŠ¸ëŠ” ì œê±° í•´ì•¼í• ê¹Œ??



#### ì´ë²ˆ í˜ì´ì§€ì—ì„œ ì‘ì—…í•œ ë‚´ìš© ì •ë¦¬

* times() ë¥¼ ìƒìœ„ í´ë˜ìŠ¤ë¡œ ì˜¬ë¦¬ê³  í•˜ìœ„ í´ë˜ìŠ¤ë¥¼ ì œê±°í•  ì¤€ë¹„ê°€ ê±°ì˜ ë‹¤ ëë‹¤.&#x20;
* í° ì„¤ê³„ ì•„ì´ë””ì–´ë¥¼ ë‹¤ë£¨ë‹¤ê°€ ì¶©ëŒëœ ë¶€ë¶„ì— ëŒ€í•´ì„œ, ì‘ì€ ì‘ì—…ë“¤ì„ í•˜ë‚˜ì”© ì²˜ë¦¬í–ˆë‹¤.
* ì´ì „ì— ë§Œë“  íŒ©í† ë¦¬ ë©”ì†Œë“œë¥¼ í†µí•´ ì½”ë“œë¥¼ ë³´ë‹¤ ìœ ì—°í•˜ê²Œ ë§Œë“¤ê³ , ë‘ ìƒì„±ìë¥¼ ì¼ì¹˜í•˜ê²Œ ë§Œë“¤ì—ˆë‹¤.&#x20;
* times()ê°€ íŒ©í† ë¦¬ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ë„ë¡ ë§Œë“¤ê¸° ìœ„í•´ ì‘ì—…ì„ ì ì‹œ ì¤‘ë‹¨í•˜ê³ , ë‹¤ë¥¸ í• ì¼ì„ ìˆ˜í–‰í•˜ì˜€ë‹¤.
* ë™ì¼í•œ ìƒì„±ìë¥¼ ìƒìœ„ í´ë˜ìŠ¤ë¡œ ì˜®ê²¼ë‹¤.&#x20;



